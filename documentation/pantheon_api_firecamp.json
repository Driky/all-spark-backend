{
    "meta": {
        "__export_time": 1747706883537,
        "__export_app": "firecamp_v2.6.1 ",
        "__export_version": 1
    },
    "project": {
        "name": "Pantheon Authentication API",
        "description": "API collection for testing Pantheon authentication endpoints",
        "auth": {},
        "scripts": {
            "pre": "",
            "post": "",
            "test": ""
        },
        "meta": {
            "active_auth": "no_auth"
        }
    },
    "modules": [],
    "requests": [
        {
            "meta": {
                "name": "Register User",
                "description": "Register a new user with email and password",
                "active_auth": "inherit",
                "type": "api",
                "version": "1.0"
            },
            "url": {
                "slashes": true,
                "protocol": "{{protocol}}",
                "hash": "",
                "pathname": "/api/auth/register",
                "auth": "",
                "host": "{{host}}",
                "port": "{{port}}",
                "hostname": "{{hostname}}",
                "password": "",
                "username": "",
                "origin": "{{baseUrl}}",
                "href": "{{baseUrl}}/api/auth/register",
                "query_params": [],
                "path_params": []
            },
            "method": "POST",
            "headers": [
                {
                    "key": "Content-Type",
                    "value": "application/json",
                    "enable": true,
                    "type": "text"
                }
            ],
            "config": {
                "ORIGIN": "",
                "USERAGENT": "",
                "TIMEOUT_MS": 0,
                "REJECT_UNAUTHORIZED": false,
                "FOLLOWLOCATION": true,
                "MAXREDIRS": -1,
                "HTTP_VERSION": "V2Tls"
            },
            "scripts": {
                "pre": "",
                "post": "// Extract token from response if successful\ntry {\n  const response = JSON.parse(responseBody);\n  if (response && response.data && response.data.token) {\n    fc.environment.set(\"authToken\", response.data.token);\n    console.log(\"Token captured and stored in environment variable\");\n  }\n} catch (e) {\n  console.error(\"Failed to extract token: \" + e.message);\n}",
                "test": ""
            },
            "bodies": [
                {
                    "name": "default",
                    "meta": {
                        "active_body_type": "application/json",
                        "is_default": true
                    },
                    "body": {
                        "application/json": {
                            "value": "{\n    \"email\": \"{{testEmail}}\",\n    \"password\": \"{{testPassword}}\"\n}"
                        }
                    }
                }
            ]
        },
        {
            "meta": {
                "name": "Login User",
                "description": "Login with email and password",
                "active_auth": "inherit",
                "type": "api",
                "version": "1.0"
            },
            "url": {
                "slashes": true,
                "protocol": "{{protocol}}",
                "hash": "",
                "pathname": "/api/auth/login",
                "auth": "",
                "host": "{{host}}",
                "port": "{{port}}",
                "hostname": "{{hostname}}",
                "password": "",
                "username": "",
                "origin": "{{baseUrl}}",
                "href": "{{baseUrl}}/api/auth/login",
                "query_params": [],
                "path_params": []
            },
            "method": "POST",
            "headers": [
                {
                    "key": "Content-Type",
                    "value": "application/json",
                    "enable": true,
                    "type": "text"
                }
            ],
            "config": {
                "ORIGIN": "",
                "USERAGENT": "",
                "TIMEOUT_MS": 0,
                "REJECT_UNAUTHORIZED": false,
                "FOLLOWLOCATION": true,
                "MAXREDIRS": -1,
                "HTTP_VERSION": "V2Tls"
            },
            "scripts": {
                "pre": "",
                "post": "// Extract token from response if successful\ntry {\n  const response = JSON.parse(responseBody);\n  if (response && response.data && response.data.token) {\n    fc.environment.set(\"authToken\", response.data.token);\n    console.log(\"Token captured and stored in environment variable\");\n  }\n} catch (e) {\n  console.error(\"Failed to extract token: \" + e.message);\n}",
                "test": ""
            },
            "bodies": [
                {
                    "name": "default",
                    "meta": {
                        "active_body_type": "application/json",
                        "is_default": true
                    },
                    "body": {
                        "application/json": {
                            "value": "{\n    \"email\": \"{{testEmail}}\",\n    \"password\": \"{{testPassword}}\"\n}"
                        }
                    }
                }
            ]
        },
        {
            "meta": {
                "name": "Send Magic Link",
                "description": "Send a magic link for passwordless login",
                "active_auth": "inherit",
                "type": "api",
                "version": "1.0"
            },
            "url": {
                "slashes": true,
                "protocol": "{{protocol}}",
                "hash": "",
                "pathname": "/api/auth/magic-link",
                "auth": "",
                "host": "{{host}}",
                "port": "{{port}}",
                "hostname": "{{hostname}}",
                "password": "",
                "username": "",
                "origin": "{{baseUrl}}",
                "href": "{{baseUrl}}/api/auth/magic-link",
                "query_params": [],
                "path_params": []
            },
            "method": "POST",
            "headers": [
                {
                    "key": "Content-Type",
                    "value": "application/json",
                    "enable": true,
                    "type": "text"
                }
            ],
            "config": {
                "ORIGIN": "",
                "USERAGENT": "",
                "TIMEOUT_MS": 0,
                "REJECT_UNAUTHORIZED": false,
                "FOLLOWLOCATION": true,
                "MAXREDIRS": -1,
                "HTTP_VERSION": "V2Tls"
            },
            "scripts": {
                "pre": "",
                "post": "",
                "test": ""
            },
            "bodies": [
                {
                    "name": "default",
                    "meta": {
                        "active_body_type": "application/json",
                        "is_default": true
                    },
                    "body": {
                        "application/json": {
                            "value": "{\n    \"email\": \"{{testEmail}}\"\n}"
                        }
                    }
                }
            ]
        },
        {
            "meta": {
                "name": "Get Patients (Authenticated)",
                "description": "Get all patients (requires authentication)",
                "active_auth": "inherit",
                "type": "api",
                "version": "1.0"
            },
            "url": {
                "slashes": true,
                "protocol": "{{protocol}}",
                "hash": "",
                "pathname": "/api/patients",
                "auth": "",
                "host": "{{host}}",
                "port": "{{port}}",
                "hostname": "{{hostname}}",
                "password": "",
                "username": "",
                "origin": "{{baseUrl}}",
                "href": "{{baseUrl}}/api/patients",
                "query_params": [],
                "path_params": []
            },
            "method": "GET",
            "headers": [
                {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}",
                    "enable": true,
                    "type": "text"
                }
            ],
            "config": {
                "ORIGIN": "",
                "USERAGENT": "",
                "TIMEOUT_MS": 0,
                "REJECT_UNAUTHORIZED": false,
                "FOLLOWLOCATION": true,
                "MAXREDIRS": -1,
                "HTTP_VERSION": "V2Tls"
            },
            "scripts": {
                "pre": "",
                "post": "",
                "test": ""
            },
            "bodies": [
                {
                    "name": "default",
                    "meta": {
                        "active_body_type": "noBody",
                        "is_default": true
                    },
                    "body": {}
                }
            ]
        },
        {
            "meta": {
                "name": "Create Patient (Authenticated)",
                "description": "Create a new patient (requires authentication)",
                "active_auth": "inherit",
                "type": "api",
                "version": "1.0"
            },
            "url": {
                "slashes": true,
                "protocol": "{{protocol}}",
                "hash": "",
                "pathname": "/api/patients",
                "auth": "",
                "host": "{{host}}",
                "port": "{{port}}",
                "hostname": "{{hostname}}",
                "password": "",
                "username": "",
                "origin": "{{baseUrl}}",
                "href": "{{baseUrl}}/api/patients",
                "query_params": [],
                "path_params": []
            },
            "method": "POST",
            "headers": [
                {
                    "key": "Content-Type",
                    "value": "application/json",
                    "enable": true,
                    "type": "text"
                },
                {
                    "key": "Authorization",
                    "value": "Bearer {{authToken}}",
                    "enable": true,
                    "type": "text"
                }
            ],
            "config": {
                "ORIGIN": "",
                "USERAGENT": "",
                "TIMEOUT_MS": 0,
                "REJECT_UNAUTHORIZED": false,
                "FOLLOWLOCATION": true,
                "MAXREDIRS": -1,
                "HTTP_VERSION": "V2Tls"
            },
            "scripts": {
                "pre": "",
                "post": "",
                "test": ""
            },
            "bodies": [
                {
                    "name": "default",
                    "meta": {
                        "active_body_type": "application/json",
                        "is_default": true
                    },
                    "body": {
                        "application/json": {
                            "value": "{\n    \"patient\": {\n        \"first_name\": \"John\",\n        \"last_name\": \"Doe\",\n        \"date_of_birth\": \"1990-01-01\",\n        \"email\": \"patient@example.com\",\n        \"phone\": \"123456789\",\n        \"address\": \"123 Main St\",\n        \"nutritionist_id\": \"nutritionist-123\"\n    }\n}"
                        }
                    }
                }
            ]
        }
    ],
    "environments": [
        {
            "name": "Development",
            "variables": {
                "baseUrl": "http://localhost:4000",
                "protocol": "http:",
                "host": "localhost:4000",
                "hostname": "localhost",
                "port": "4000",
                "authToken": "",
                "testEmail": "test@example.com",
                "testPassword": "password123",
                "nutritionistId": "nutritionist-123"
            }
        },
        {
            "name": "Production",
            "variables": {
                "baseUrl": "https://api.pantheon-app.com",
                "protocol": "https:",
                "host": "api.pantheon-app.com",
                "hostname": "api.pantheon-app.com",
                "port": "443",
                "authToken": "",
                "testEmail": "test@example.com",
                "testPassword": "password123",
                "nutritionistId": "nutritionist-123"
            }
        }
    ]
}